<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
		<title>Constellation</title>
		
		<link type="text/css" href="../../libs/ui-lightness/jquery-ui-1.8.17.custom.css" rel="stylesheet" />	
		<script type="text/javascript" src="../../libs/jquery-1.6.2.min.js"></script>
		<script type="text/javascript" src="../../libs/jquery-ui-1.8.17.custom.min.js"></script>
		<script type="text/javascript" src="../../libs/jquery.mousewheel.js"></script>
		<script type="text/javascript" src="../../libs/jquery.svg.js"></script>
		
		<script type="text/javascript" src="../../libs/javascript-last.fm-api/lastfm.api.md5.js"></script>
		<script type="text/javascript" src="../../libs/javascript-last.fm-api/lastfm.api.js"></script>
		<script type="text/javascript" src="../../libs/javascript-last.fm-api/lastfm.api.cache.js"></script>
		
		<script type="text/javascript" src="../../build/constellation.min.js"></script>
		
		<script type="text/javascript" src="custom.constellation.js"></script>
		
		<script type="text/javascript">
			var constellation;
			var config = {
				id: 'container',
				graphLoaderClass: CustomGraphLoader,
				graphLoader: {
					lastfm_api_key: '8a57f9a75a3f925db5484d7d9fa013c2',
					lastfm_api_secret: '8d42845323e77bbfa61883746fa2aa6c'
				},
				graphParserClass: CustomGraphParser,
				graphViewClass: TreeGraphView,
				layoutClass: RoamerLayout,
				layout: {
				}
			};
			var styles = [
				['node', {
					rendererClass: CustomNodeRenderer
				}],
				['edge', {
					rendererClass: CustomEdgeRenderer
				}]
			];
						
			$(document).ready(function() {
				constellation = new Constellation(config, styles);
				constellation.init();
				
				jQuery(constellation).bind('nodeclick', function(event, nodeId) {
					//var node = this.getNode(nodeId);
					this.setSelectedNodeId(nodeId);
				});
				constellation.setSelectedNodeId('Massive Attack');
			});
		</script>
		
		<style type="text/css">@import "../../libs/jquery.svg.css";</style>
		<style type="text/css">
			#container {
				border: 1px solid black;
				height: 600px;
				width: 800px;
			}
		</style>
	</head>

	<body>
		<h1>last.fm Similar Artist Graph Visualization</h1>
		<p>This example loads data dynamically from the <a href="http://last.fm/api" target="_blank">last.fm API</a> and displays similar artists in a graph visualization.</p>
		<div id="container"></div>

		<p>Each artist's top five similar artists are loaded from last.fm. The selected node, its neighbors, and their neighbours are all displayed in the visualization.</p>

		<p>Click a node to select that artist and see its neighborhood of similar artists.</p>

		<p>Powered by <a href="http://last.fm" target="_blank">last.fm</a></p>
		<a href="http://last.fm" target="_blank"><img src="lastfm_red_small.gif" width="80" height="28" alt="Powered by last.fm" /></a>
	</body>
</html>

